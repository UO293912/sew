<!DOCTYPE HTML>

<html lang="es">
<head>
    <!-- Datos que describen el documento -->
    <meta name ="author" content ="Nicolás Guerbartchouk Pérez" />
    <meta name ="description" content ="descripcion contenido" />
    <meta name ="keywords" content ="aquí cada documento debe tener la lista
    de las palabras clave del mismo separadas por comas" />
    <!-- Definir la ventana gráfica -->
    <meta name ="viewport" content ="width=device-width, initial-scale=1.0" />
    <meta charset="UTF-8" />
    <title>F1 Desktop</title>
    <link rel="stylesheet" type="text/css" href="estilo/estilo.css" />
    <link rel="stylesheet" type="text/css" href="estilo/layout.css" />
    <link rel="icon" href="multimedia/imagenes/f1Icon48px.ico" type="image/x-icon">
    
</head>

<body>
    <header>
        <!-- Datos con el contenidos que aparece en el navegador -->
        <h1><a href="index.html" title="Inicio">F1 Desktop</a> </h1>
        <nav>
            <a href="index.html" title="Inicio">Inicio</a>
            <a href="piloto.html" title="Piloto">Piloto</a>
            <a href="noticias.html" title="Noticias">Noticias</a>
            <a href="calendario.html" title="Calendario">Calendario</a>
            <a href="meteorologia.html" title="Meteorologia">Meteorologia</a>
            <a href="circuito.html" title="Circuito" class="active">Circuito</a>
            <a href="viajes.html" title="Viajes">Viajes</a>
            <a href="juegos.html" title="Juegos">Juegos</a>
        </nav>
    </header>
    <p>Estas en: <a href="index.html" title="Inicio"><u>Inicio</u></a> >> Circuito</p>
    
    <main>
        <section>
            <h2>Circuito</h2>
            <section>
                <h3>Información del Circuito</h3>
                <p>Seleccione un archivo XML con la información del circuito</p>
                <input type="file" aria-label="Presione para seleccionar su archivo XML" accept=".xml" />
            </section>
            <section>
                <h3>Planimetría del Circuito</h3>
                <p>Seleccione un archivo kml con la planimetría del circuito</p>
                <input type="file" aria-label="Presione para seleccionar su archivo kml" accept=".kml"/>
            </section>
            <section>
                <h3>Altimetría del Circuito</h3>
                <p>Seleccione un archivo svg con la altimetría del circuito</p>
                <input type="file" aria-label="Presione para seleccionar su archivo svg" accept=".svg"/>
            </section>
        </section>
    </main>
    <script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBqZPeOuQ1u8WxdKbtmNOSK1Cdn8IQtwUk"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="js/circuito.js"></script>
    <script>
        const circuito = new Circuito();
        document.addEventListener("DOMContentLoaded", () => {
            // Selecciona el contenedor principal
            const main = document.querySelector('main');

            // Selecciona los tres botones usando selectores dentro de la estructura
            var botones = main.querySelectorAll('section > section > input[type="file"]');

            // Asignar los métodos específicos de `circuito` según el tipo de archivo
            botones.forEach((boton) => {
                if (boton.accept === ".xml") {
                    boton.addEventListener('change', (event) => {
                        circuito.readInputInfoFile(event.target.files[0]);
                    });
                } else if (boton.accept === ".kml") {
                    boton.addEventListener('change', (event) => {
                        circuito.readInputPlaniFile(event.target.files[0]);
                    });
                } else if (boton.accept === ".svg") {
                    boton.addEventListener('change', (event) => {
                        circuito.readInputAltiFile(event.target.files[0]);
                    });
                }
            });
        });

    </script>
</body>
</html>